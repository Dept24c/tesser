<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>tesser.utils documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Tesser.all 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tesser</span></div></div></li><li class="depth-2 branch"><a href="tesser.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="tesser.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="tesser.quantiles.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>quantiles</span></div></a></li><li class="depth-2 current"><a href="tesser.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tesser.utils.html#var-append"><div class="inner"><span>append</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-complete-triangular-matrix"><div class="inner"><span>complete-triangular-matrix</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-first-non-nil-reducer"><div class="inner"><span>first-non-nil-reducer</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-index-by"><div class="inner"><span>index-by</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-map-vals"><div class="inner"><span>map-vals</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-path-fn"><div class="inner"><span>path-fn</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-poll.21"><div class="inner"><span>poll!</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-prepend"><div class="inner"><span>prepend</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-scred"><div class="inner"><span>scred</span></div></a></li><li class="depth-1"><a href="tesser.utils.html#var-update"><div class="inner"><span>update</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">tesser.utils</h2><div class="doc"><div class="markdown"><p>Toolbox.</p></div></div><div class="public anchor" id="var-append"><h3>append</h3><div class="usage"><code>(append coll element)</code></div><div class="doc"><div class="markdown"><p>Appends a single value to the end of a sequence. O(1); uses conj for vectors, concat for other seqs.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L15">view source</a></div></div><div class="public anchor" id="var-complete-triangular-matrix"><h3>complete-triangular-matrix</h3><div class="usage"><code>(complete-triangular-matrix m)</code></div><div class="doc"><div class="markdown"><p>Given a map of [x y] keys to values, returns a map where <em>both</em> [x y] and [y x] point to identical values. Useful for pairwise comparisons which compute triangular matrices but want to return a full matrix.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L68">view source</a></div></div><div class="public anchor" id="var-first-non-nil-reducer"><h3>first-non-nil-reducer</h3><div class="usage"><code>(first-non-nil-reducer _ x)</code></div><div class="doc"><div class="markdown"><p>A reducing function that simply returns the first non-nil element in the collection.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L75">view source</a></div></div><div class="public anchor" id="var-index-by"><h3>index-by</h3><div class="usage"><code>(index-by f xs)</code></div><div class="doc"><div class="markdown"><p>Given an indexing function f and a collection of xs, return a map of (f x) -&gt; x.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L52">view source</a></div></div><div class="public anchor" id="var-map-vals"><h3>map-vals</h3><div class="usage"><code>(map-vals f m)</code></div><div class="doc"><div class="markdown"><p>Maps over a key-value map, returning a new map by transforming each value with (f v).</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L42">view source</a></div></div><div class="public anchor" id="var-path-fn"><h3>path-fn</h3><div class="usage"><code>(path-fn path)</code></div><div class="doc"><div class="markdown"><p>Takes a path for get-in and converts it to a function that operates on associative structures.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L61">view source</a></div></div><div class="public anchor" id="var-poll.21"><h3>poll!</h3><div class="usage"><code>(poll! a)</code></div><div class="doc"><div class="markdown"><p>Given an atom pointing to a sequence, pulls the first element off the sequence atomically and returns it.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L33">view source</a></div></div><div class="public anchor" id="var-prepend"><h3>prepend</h3><div class="usage"><code>(prepend coll element)</code></div><div class="doc"><div class="markdown"><p>Prepends a single value to the beginning of a sequence. O(1) for sequences using cons, O(n) for vectors. Returns a singleton vector when coll is nil.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L7">view source</a></div></div><div class="public anchor" id="var-scred"><h3>scred</h3><h4 class="type">macro</h4><div class="usage"><code>(scred rfn-name expr)</code></div><div class="doc"><div class="markdown"><p>Helper for short-circuiting nested reduction functions which can emit reduced values. Given the name of a function that could emit a reduced value, and an expression:</p><p>(scred rfn [1 (rfn x y)])</p><p>Expands to code that converts the expression to a reduced value whenever the underlying function emits a reduced value:</p><p>(let [acc (rfn x y)]  (if (reduced? acc)  (let [acc @acc] (reduced [1 acc]))  [1 acc]))</p><p>scred does not interpret lexical scope, so don&rsquo;t rebind rfn in expr. Uses prewalk, so the outermost fn is where scred will cut out an expr. Keep this as simple as possible, haha.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L81">view source</a></div></div><div class="public anchor" id="var-update"><h3>update</h3><div class="usage"><code>(update m k f)</code><code>(update m k f a)</code><code>(update m k f a b)</code><code>(update m k f a b c)</code><code>(update m k f a b c &amp; args)</code></div><div class="doc"><div class="markdown"><p>Given a map, a key, a function f, and optional args, returns a copy of map with that key set to (f current-val arg1 arg2 &hellip;). Like update-in, but only one level deep.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/../core/src/tesser/utils.clj#L23">view source</a></div></div></div></body></html>