<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>tesser.hadoop documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Tesser.all 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tesser</span></div></div></li><li class="depth-2 branch"><a href="tesser.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 current"><a href="tesser.hadoop.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hadoop</span></div></a></li><li class="depth-3"><a href="tesser.hadoop.serialization.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>serialization</span></div></a></li><li class="depth-2 branch"><a href="tesser.math.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="tesser.quantiles.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>quantiles</span></div></a></li><li class="depth-2"><a href="tesser.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tesser.hadoop.html#var-dsink"><div class="inner"><span>dsink</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-error.3F"><div class="inner"><span>error?</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-execute"><div class="inner"><span>execute</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-fold"><div class="inner"><span>fold</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-fold*"><div class="inner"><span>fold*</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-fold-mapper"><div class="inner"><span>fold-mapper</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-fold-reducer"><div class="inner"><span>fold-reducer</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-gen-job-name.21"><div class="inner"><span>gen-job-name!</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-job-name-counter"><div class="inner"><span>job-name-counter</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-print-error"><div class="inner"><span>print-error</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-rehydrate-fold"><div class="inner"><span>rehydrate-fold</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-resolve.2B"><div class="inner"><span>resolve+</span></div></a></li><li class="depth-1"><a href="tesser.hadoop.html#var-serialize-error"><div class="inner"><span>serialize-error</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">tesser.hadoop</h2><div class="doc"><div class="markdown"><p>Helps you run a fold on Hadoop!</p></div></div><div class="public anchor" id="var-dsink"><h3>dsink</h3><div class="usage"><code>(dsink work-dir file-name)</code></div><div class="doc"><div class="markdown"><p>Given a work directory and a string name for this file, builds a dsink for a fold to dump its output to, in [NullWritable FressianWritable] format.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L180">view source</a></div></div><div class="public anchor" id="var-error.3F"><h3>error?</h3><div class="usage"><code>(error? x)</code></div><div class="doc"><div class="markdown"><p>Is this an error object?</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L75">view source</a></div></div><div class="public anchor" id="var-execute"><h3>execute</h3><div class="usage"><code>(execute graph conf)</code><code>(execute graph conf job-name)</code></div><div class="doc"><div class="markdown"><p>Like <code>parkour.graph/execute</code>, but specialized for folds. Takes a parkour graph, a jobconf, and a job name. Executes the job, then returns a sequence of fold results. Job names will be automatically generated if not provided.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L169">view source</a></div></div><div class="public anchor" id="var-fold"><h3>fold</h3><div class="usage"><code>(fold conf input workdir fold-var &amp; args)</code></div><div class="doc"><div class="markdown"><p>A simple, all-in-one fold operation. Takes a jobconf, workdir, input dseq, var which points to a fold function, and arguments for the fold function. Runs the fold against the dseq and returns its results. Names output dsink after fold symbol. On error, throws as an ex-info.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L188">view source</a></div></div><div class="public anchor" id="var-fold*"><h3>fold*</h3><div class="usage"><code>(fold* graph fold-var &amp; args)</code></div><div class="doc"><div class="markdown"><p>Takes a Parkour graph and applies a fold to it. Takes a var for a function, taking <code>args</code>, which constructs a fold. Returns a new (unexecuted) graph. The output of this job will be a single-element Fressian structure containing the results of the fold applied to the job&rsquo;s inputs.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L144">view source</a></div></div><div class="public anchor" id="var-fold-mapper"><h3>fold-mapper</h3><div class="usage"><code>(fold-mapper fold-name fold-args input)</code></div><div class="doc"><div class="markdown"><p>A generic, stateful hadoop mapper for applying a fold to a Hadoop dataset. This function returns a mapper for fold defined by make-fold applied to fold-name &amp; additional args.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L100">view source</a></div></div><div class="public anchor" id="var-fold-reducer"><h3>fold-reducer</h3><div class="usage"><code>(fold-reducer fold-name fold-args input)</code></div><div class="doc"><div class="markdown"><p>This function returns a parkour reducer for fold defined by make-fold applied to fold-name &amp; additional args</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L121">view source</a></div></div><div class="public anchor" id="var-gen-job-name.21"><h3>gen-job-name!</h3><div class="usage"><code>(gen-job-name!)</code></div><div class="doc"><div class="markdown"><p>Generates a new job name. Job names start at a random small integer and increment sequentially from there. Job names are printed to stderr when generated.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L159">view source</a></div></div><div class="public anchor" id="var-job-name-counter"><h3>job-name-counter</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L156">view source</a></div></div><div class="public anchor" id="var-print-error"><h3>print-error</h3><div class="usage"><code>(print-error e)</code></div><div class="doc"><div class="markdown"><p>Print an error to <em>err</em>.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L81">view source</a></div></div><div class="public anchor" id="var-rehydrate-fold"><h3>rehydrate-fold</h3><div class="usage"><code>(rehydrate-fold fold-name fold-args)</code></div><div class="doc"><div class="markdown"><p>Takes the name of a function that generates a fold (a symbol) and args for that function, and invokes the function with args to build a fold, which is then compiled and returned.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L45">view source</a></div></div><div class="public anchor" id="var-resolve.2B"><h3>resolve+</h3><div class="usage"><code>(resolve+ sym)</code></div><div class="doc"><div class="markdown"><p>Resolves a symbol to a var, requiring the namespace if necessary. If the namespace doesn&rsquo;t exist, throws just like <code>clojure.core/require</code>. If the symbol doesn&rsquo;t exist after requiring, returns nil.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L35">view source</a></div></div><div class="public anchor" id="var-serialize-error"><h3>serialize-error</h3><div class="usage"><code>(serialize-error state input e)</code></div><div class="doc"><div class="markdown"><p>Convert an exception to an error.</p></div></div><div class="src-link"><a href="http://github.com/aphyr/tesser/blob/master/master/../hadoop/src/tesser/hadoop.clj#L56">view source</a></div></div></div></body></html>